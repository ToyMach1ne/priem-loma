if(!JSON){var JSON;JSON||(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,a,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,n=0;n<a;n+=1)o[n]=str(n,l)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,l),i&&o.push(quote(r)+(gap?": ":":")+i));else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=str(r,l),i&&o.push(quote(r)+(gap?": ":":")+i));return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}String.prototype.trim||!function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}(),function(e,t,n){var r=!1,i="32",a=42,o=e.roistatHost,s="0.2",l="1.0",u="roistat_visit",c="roistat_first_visit",f="roistat_phone",d="roistat_referrer",p="roistat_marker",m="roistat_marker_old",g="roistat_referrer_old",h="roistat_ab",v="rs",b="roistat",C="leadhunter_expire",y=18e3,k="roistat_leadHunterEnabled",T=604800,x={expires:T,path:"/"},S="roistat-promo",E="roistat-phone",A="roistat-phone-country",D="roistat-phone-region",_="roistat-phone-number",N="roistat-phone-tel",j="country",O="region",H="number",w="tel",B="roistat_call_tracking",P="roistat-js-script",I="roistat_phone_replacement",R="roistat_phone_script_data",L="roistat-visit-id",M="roistat_metrika_counter_id",F="roistat_marker_from_referrer",U="roistat_emailtracking_email",J={callTrackingEnabled:!0,callTrackingManual:!1,jsonpRequestTimeout:100},V={isVisitProcessed:!1},W={onVisitProcessed:[],onCallTrackingPhoneReceived:[]};if(e.roistatAlreadyStarted)return void("undefined"!=typeof console&&console.log&&console.log("Call: roistat already started, skip"));e.roistatAlreadyStarted=!0,e.roistatCookieDomain&&(x.domain=e.roistatCookieDomain),e.roistat={version:i,visit:null,registerOnVisitProcessedCallback:function(e){q(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){$(e)},disableCallTracking:function(){J.callTrackingEnabled=!1},setCallTrackingManualMode:function(){J.callTrackingManual=!0},setJSONPRequestTimeout:function(e){J.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{loaded:!1,email:null},leadHunter:{onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null}},page:{params:{}}};var q=function(e){V.isVisitProcessed?e():W.onVisitProcessed.push(e)},$=function(e){W.onCallTrackingPhoneReceived.push(e)},Y=function(){V.isVisitProcessed=!0,ot("[Roistat] visit id set. Processing callbacks");for(var t=W.onVisitProcessed.length,r=0;r<t;r++)W.onVisitProcessed[r]();e.roistatVisitCallback!==n&&e.roistatVisitCallback(e.roistat.visit)},K=function(){for(var e=W.onCallTrackingPhoneReceived.length,t=0;t<e;t++)W.onCallTrackingPhoneReceived[t]()},z=function(e,t){var n,r=e.className.split(" "),i=!1;for(n=0;n<r.length;n++)if(r[n]===t){i=!0;break}i||(r.push(t),e.className=r.join(" "))},G=function(e,t){var n,r=e.className.split(" ");for(n=0;n<r.length;n++)if(r[n]===t){r.splice(n,1),e.className=r.join(" ");break}},X=function(e){try{return decodeURIComponent(e)}catch(t){var n;return n=Z(e),null===n?e:n}},Z=function(e){for(var t={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"},n="",r=0;r<e.length;){var i=e.substring(r,r+3);Object.prototype.hasOwnProperty.call(t,i)?(n+=t[i],r+=3):(n+=e.substring(r,r+1),r++)}try{return decodeURIComponent(n)}catch(a){return null}};e.roistatVersion=i;var Q,ee,te,ne=!0,re=t.location.href,ie="",ae="",oe=(new Date).getTime(),se=!1,le=e.roistatPhonePrefix?e.roistatPhonePrefix:"",ue=e.roistatPhonePrefixBind?e.roistatPhonePrefixBind:"",ce=e.roistatCalltrackingScripts&&e.roistatCalltrackingScripts.join?e.roistatCalltrackingScripts.join(","):"";ee=e.roistatGetCookie=function(e){var r=t.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return r?X(r[1]):n},te=e.roistatSetCookie=function(e,n,r){r=r||{};var i=r.expires;if("number"==typeof i&&i){var a=new Date;a.setTime(a.getTime()+1e3*i),i=r.expires=a}i&&i.toUTCString&&(r.expires=i.toUTCString()),n=encodeURIComponent(n);var o=e+"="+n;for(var s in r){o+="; "+s;var l=r[s];l!==!0&&(o+="="+l)}t.cookie=o};var fe=function(e,t){for(var n=e.length,r=0;r<n;r++)t(e[r])};t.getElementsByClassName==n&&(t.getElementsByClassName=function(e){for(var t=[],n=new RegExp("\\b"+e+"\\b"),r=this.getElementsByTagName("*"),i=0;i<r.length;i++){var a=r[i].className;n.test(a)&&t.push(r[i])}return t});var de=function(){return String.fromCharCode},pe=function(e){for(var t="",n=0;n<e.length;++n)t+=de()(a^e.charCodeAt(n));return t},me=function(e){return encodeURIComponent(pe(e))},ge=function(){return t[de()(99,111,111,107,105,101)]},he=function(){var e={c:ge()};return me(JSON.stringify(e))},ve=function(){return de()(104,97,115,104)},be=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")},Ce={isAvailable:function(){var t=!1;if(!(e.sessionStorage&&e.sessionStorage.setItem&&e.sessionStorage.getItem&&e.sessionStorage.removeItem))return t;try{e.sessionStorage.setItem("testKey","testValue"),t="testValue"===e.sessionStorage.getItem("testKey"),e.sessionStorage.removeItem("testKey")}catch(n){return!1}return t},remove:function(t){this.isAvailable()&&e.sessionStorage.removeItem(t)},setObject:function(t,n){this.isAvailable()&&e.sessionStorage.setItem(t,JSON.stringify(n))},getObject:function(t){var n=null;return this.isAvailable()&&(n=e.sessionStorage.getItem(t),n=JSON.parse(n)),n},set:function(t,n){this.isAvailable()&&e.sessionStorage.setItem(t,n)},get:function(t){var n=null;return this.isAvailable()&&(n=e.sessionStorage.getItem(t)),n}},ye={isAvailable:function(){var t=!1;if(!(e.localStorage&&e.localStorage.setItem&&e.localStorage.getItem&&e.localStorage.removeItem))return t;try{e.localStorage.setItem("testKey","testValue"),t="testValue"===e.localStorage.getItem("testKey"),e.localStorage.removeItem("testKey")}catch(n){return!1}return t},remove:function(t){if(this.isAvailable())e.localStorage.removeItem(t);else{var n=new Date(1970,1,1);te(t,"",{expires:n.toUTCString()})}},setObject:function(e,t){this.isAvailable()&&localStorage.setItem(e,JSON.stringify(t))},getObject:function(e){var t=null;return this.isAvailable()&&(t=localStorage.getItem(e),t=JSON.parse(t)),t},set:function(e,t){this.isAvailable()?localStorage.setItem(e,t):te(e,t,x)},save:function(e,t,n){this.isAvailable()&&localStorage.setItem(e,t),te(e,t,n)},get:function(e){var t=null;return this.isAvailable()&&(t=localStorage.getItem(e)),null===t&&(t=ee(e)),t}},ke=function(){var e=null,n=ye.get(d),r=n?n:t.referrer;return r&&(e=r),e},Te=function(e,n){n="undefined"!=typeof n&&n;var r=function(t){var n=null,r=new RegExp("[#&?]("+e+"=[^#&?]+)");r.test(t)&&(n=RegExp.$1.substring(RegExp.$1.indexOf("=")+1));var i=X(n);return n&&i?i:n},i=r(re);if(n){var a=t.referrer;null===i&&a&&(i=r(a))}return i},xe=function(e,t){var n=!1;return e&&t&&(n=e.split(t).join("")!==e),n};"1"===Te("roistat_debug")&&(r=!0);var Se=function(){return"https:"==t.location.protocol?"https:":"http:"},Ee=function(e,n,r){var i=t.createElement("iframe"),a="roistat_"+(new Date).getTime();t.body.appendChild(i),i.style.display="none",i.setAttribute("name",a),i.setAttribute("id",a),i.contentWindow.name=a;var o=t.createElement("form");o.target=a,o.action=e,o.method=r;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var l=t.createElement("input");l.type="hidden",l.name=s,l.value=n[s],o.appendChild(l)}t.body.appendChild(o),o.submit()},Ae=function(e){ot("sendApiRequestJSONP: init with url "+e);var n=t.createElement("script");n.onload=n.onreadystatechange=function(){var e=this.readyState?this.readyState:"unknown";ot("sendApiRequestJSONP: script state changed to "+e)},n.src=e,n.type="text/javascript",n.async=!0;var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),ot("sendApiRequestJSONP: script appended")},De=function(){var e=t.createElement("link"),n=t.getElementsByTagName("head");e.setAttribute("rel","stylesheet"),e.setAttribute("href",Se()+"//"+o+"/dist/module.css?"+i),n.length>0&&n[0].appendChild(e)},_e=function(){return null!==Te("roistat_visit")},Ne=function(){var e=Te("roistat_visit");null!==e&&te(u,e,x)},je=function(){return ot("Call: Init"),"1"===Te("roistat_ab_demo")?void ot("Roistat initialisation rejected: ab test preview mode"):(De(),Oe(),Pe(),!Ye()||We()?(se=!0,Ze()):(Ne(),Qe(),it(),Le(),roistat.visit=Be(),Y()),Ie(),void Re())},Oe=function(){ot("Call: initMarker"),Q=we(),ot("Call: inited marker: "+Q)},He=function(e){return!e||xe(e,t.domain)},we=function(){var e=ee(F)>0,n=null,r=function(e){return e.split("_").join(":u:")},i=function(){var t,r=!1;return t=Te(b,e),null!==t&&(n=t,r=!0),t=Te(v,e),null!==t&&(n=t,r=!0),r},a=function(){var e=!1,t=ee(p);return t&&(n=t,e=!0,ne=!1),e},o=function(){var t=!1,i=Te("utm_source",e);if(null!==i){t=!0,n=":utm:"+r(i);for(var a,o=["utm_medium","utm_campaign","utm_content","utm_term"],s=0;s<o.length;s++)a=Te(o[s],e),null!==a&&(n=n+"_"+r(a))}return t},s=function(){var t,i,a=!1;return!!(i=Te("_openstat",e))&&(t=xe(i,";")?i:encodeURI(nt(et(i))),t&&(t=r(t).split(";").join("_"),n=":openstat:"+t,a=!0),a)},l=function(){var i=!1,a=t.referrer;if(He(a))return i;var o=Te("from",e);return null===o||xe(o,"http")||(i=!0,n=r(o)),i};return i()?(ot("Init marker: init from RS param "+n),n):o()?(ot("Init marker: init from UTM "+n),n):s()?(ot("Init marker: init from OpenStat "+n),n):l()?(ot("Init marker: init from custom tag "+n),n):(ot("Init marker: try init from cookie "+n),a(),n)},Be=function(){return ye.get(u)},Pe=function(){ot("Call: saveReferrer");var e=t.referrer;He(e)||ye.set(d,e)},Ie=function(){te(m,X(Q),x)},Re=function(){ye.set(g,ke())},Le=function(){ot("Call: refreshPromoCode");var t=function(){return ee(u)};Fe(t()),e.onload||(e.onload=function(){Fe(t())}),setTimeout(function(){Fe(t())},50),setTimeout(function(){Fe(t())},200),setTimeout(function(){Fe(t())},2e3),setTimeout(function(){Fe(t())},1e4)};e.roistatPromoCodeRefresh=Le;var Me=function(){var e=[],n=t.getElementsByClassName(S);return n&&n.length&&(e=n),e},Fe=function(e){var t=Me();ot("setPromoCode: "+e+" in "+t.length+" elements");for(var n=0;n<t.length;n++){var r=t[n];r.innerHTML=e?e:""}},Ue=function(){var e=we(),t=ee(m),n=null!==e,r=!0,i=X(X(e)).toLowerCase().split("+").join(" "),a=X(X(t)).toLowerCase().split("+").join(" ");e&&t&&(r=i!==a);var o=n&&r;return ae="Call: needOverrideByMarker (result "+(o?"true":"false")+") with current "+e+":"+i+" and old "+t+":"+a,ot(ae),o},Je=function(){var t=function(e){var t=e.split("http://").join("").split("https://").join("").split("www.").join("");return t.split("/")[0]},r=function(e){return/[\u0400-\u04FF]/.test(e)},i=!1,a=ke(),o=ye.get(g),s=e.location.host;if(!a||!s)return ot("Call: needOverrideByReferrer (result "+(i?"true":"false")+"), skip because one of params is empty"),i;s=t(s),a=X(a),o=X(o);var l=t(a);if(xe(a,"xn--")&&r(s))return ot("Call: needOverrideByReferrer (result "+(i?"true":"false")+"), skip because of bugs with punycode in FF"),i;if(!l)return ot("Call: needOverrideByReferrer (result "+(i?"true":"false")+"), skip because current referrer is null"),i;if(!o)return i=!xe(l,s),ot("Call: needOverrideByReferrer (result "+(i?"true":"false")+"), compare current referrer and host"),i;if(xe(a,o))return ot("Call: needOverrideByReferrer (result "+(i?"true":"false")+"), skip because the same referrer"),i;var u=s.split(".").length>2&&l.split(".").length>2,c=e.roistatCookieDomain!==n&&e.roistatCookieDomain!==s,f=l.split(".").slice(1).join(".")===s.split(".").slice(1).join(".");return u&&c&&f?(ot("Call: needOverrideByReferrer (result "+(i?"true":"false")+"), skip because subdomains of same domain"),i):(i=!(xe(l,s)||xe(s,l)),ot("Call: needOverrideByReferrer (result "+(i?"true":"false")+") referrerHost: "+l+", currentHost: "+s),i)},Ve=function(){return"1"===Te("utm_nooverride")},We=function(){return!_e()&&!Ve()&&(Ue()||Je())},qe=function(e,t){return e&&t&&e!=t},$e=function(e){var t=["cookieExpire"],n=e.leadHunterEnabled;if(n){var r={expires:y,path:"/"};x.domain&&(r.domain=x.domain),te(C,1,r)}else ye.get(k)>0&&ye.set(k,0);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(!n&&i.indexOf("leadHunter")>=0||at(t,i)||ye.set("roistat_"+i,e[i]))};e.roistatModuleSetVisitCookie=function(t,r,i,a,o){ot("Call: roistatModuleSetVisitCookie("+t+")");var s;s="number"!=typeof i.cookieExpire?T:i.cookieExpire;var l=ee(u),f={expires:s,path:"/"};if(x.domain&&(f.domain=x.domain),te(u,t,f),ee(u)>0||ye.save(u,t,f),!ye.get(c)){var d={expires:31536e4,path:"/"};x.domain&&(d.domain=x.domain),ye.save(c,t,d)}var g=i.abTests;"undefined"!=typeof g&&ye.isAvailable()&&ye.setObject("abTesting",g),applyTests(),Fe(t),r&&(te(p,r,x),te(m,r,x)),$e(i),ot("Call: pre renderPromoCode"),it(),Le(),qe(l,t)&&ot("roistatModuleSetVisitCookie: visit changed from "+l+" to "+t),e.roistatCallback!==n&&e.roistatCallback(t,r),roistat.visit=t,roistat.callTracking.enabled=a.enabled,roistat.callTracking.phone=a.phone,roistat.callTracking.sessionTime=a.sessionTime,roistat.callTracking.replacementClasses=a.replacementClasses,roistat.callTracking.phoneScriptsJson=a.scripts,roistat.emailtracking.loaded=!0,roistat.emailtracking.email=o.email,K(),Y()};var Ye=function(){var t;return t=e.roistatIsInitVisit!==!0&&ee(u)>0,ot("Call: alreadyVisited (return "+(t?"true":"false")+")"),t},Ke=function(){var e=ke();if(!e)return"";var t=encodeURIComponent?encodeURIComponent:encodeURI;return t(e)},ze=function(){return e.roistatProjectId},Ge=function(){return Se()+"//"+o+"/api/site/"+l+"/"+ze()},Xe=function(){var e={expires:1,path:"/"};x.domain&&(e.domain=x.domain),te(h,"",e)},Ze=function(){ot("Call: setVisitIdCookie");var n=function(){var t=(ze(),Ke()),n=e.roistatIsInitVisit===!0?Be():0,r=ee(h),a=ye.get(c);r=r?r:"",a=a?a:"",Q=!Q||Je()&&!ne?"":X(X(Q));var o=encodeURIComponent(re);ot("Calltracking: enabled="+J.callTrackingEnabled+",manual="+J.callTrackingManual);var s=JSON.stringify(e.roistat.page.params);return Ge()+"/addVisit?v="+i+"&marker="+encodeURIComponent(Q)+"&visit="+n+"&first_visit="+a+"&phone_prefix="+le+"&phone_prefix_bind="+ue+"&phone_scripts_bind="+ce+"&referrer="+t+"&page="+o+"&ab="+r+"&"+ve()+"="+he()+("{}"===s?"":"&page_params="+encodeURIComponent(s))+(!J.callTrackingEnabled||J.callTrackingManual?"&call_tracking_disabled=1":"")},r=function(e){setTimeout(function(){ot("Call: setVisitIdCookie script creation after timeout");var n=t.createElement("script");n.onload=n.onreadystatechange=function(){var e=this.readyState?this.readyState:"unknown";ot("Call: setVisitIdCookie script state changed to "+e)},n.src=e,n.type="text/javascript",n.async=!0,n.id=P;var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),ot("Call: setVisitIdCookie appended "+(t.getElementById(P)?"true":"false")),ot("Call: sendJSONPRequest to URL "+e),Xe()},J.jsonpRequestTimeout)};Q&&te(p,Q,x),(t.getElementsByClassName(A).length>0||t.getElementsByClassName(D).length>0||t.getElementsByClassName(_).length>0)&&Ae(Ge()+"/calltracking/logger"),""==ue&&""==le||Ae(Ge()+"/calltracking/logger");var a=n();r(a)},Qe=function(){ot("Call: sendAbTests");var e=function(){var e=ze(),t=ee(u);return Se()+"//"+o+"/site-api/"+s+"/"+e+"/visit/"+t+"/addAbVariant"},n=ee(h);if(n){var r=e();r=r+"?ab="+n;var i=t.createElement("img");i.src=r,Xe()}},et=function(e){var t,n,r,i,a,o,s,l,u,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,p=0,m=[];if(!e)return e;u=e.replace(/\-/g,"+").replace(/_/g,"/"),u+="";do i=f.indexOf(u.charAt(d++)),a=f.indexOf(u.charAt(d++)),o=f.indexOf(u.charAt(d++)),s=f.indexOf(u.charAt(d++)),l=i<<18|a<<12|o<<6|s,t=l>>16&255,n=l>>8&255,r=255&l,64==o?m[p++]=String.fromCharCode(t):64==s?m[p++]=String.fromCharCode(t,n):m[p++]=String.fromCharCode(t,n,r);while(d<u.length);return c=m.join(""),c.replace(/\0+$/,"")},tt=function(){return(new Date).getTime()},nt=function(e){if(""===e||null===e)return"";for(var t="",n=0,r=c1=c2=0;n<e.length;)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t},rt=function(){var n=t.getElementsByTagName("body"),r=t.documentElement,i=0,a=0;if(n.length){var o=n[0];i=e.innerWidth||r.clientWidth||o.clientWidth,a=e.innerHeight||r.clientHeight||o.clientHeight}else i=e.innerWidth||r.clientWidth,a=e.innerHeight||r.clientHeight;return{width:i,height:a}},it=function(){var n=t.getElementsByClassName("roistat-promo-wrap");if(n.length)return void ot("PromoCode: old promo code length - exit");var r=function(){var e=t.createElement("div");e.innerHTML=roistatPromoCode;var n=t.getElementsByTagName("body");n.length&&n[0].appendChild(e),ot("PromoCode: appended to body "+roistatPromoCode.length);var r=t.getElementsByClassName("roistat-promo-wrap")[0];if(!r)return void ot("PromoCode: roistat-promo-wrap not found, skip");var i,a,o,s=r.style;setInterval(function(){switch(i=rt(),a=r.offsetWidth,o=2*r.offsetHeight,roistatPosition){case"top_left":s.left=0,s.top=0;break;case"top":s.left=(i.width-a)/2+"px",s.top=0;break;case"top_right":s.right=0,s.top=0;break;case"left":s.left=0,s.top=(i.height-o)/2+"px";break;case"right":s.right=0,s.top=(i.height-o)/2+"px";break;case"bottom_left":s.left=0,s.bottom=0;break;case"bottom":s.left=(i.width-a)/2+"px",s.bottom=0;break;case"bottom_right":s.right=0,s.bottom=0;break;default:s.left=0,s.top=0}},500)},i=ye.getObject("promo_code_options");if(i)e.roistatPromoCode=i.template,e.roistatPosition=i.position,r();else{var a=t.getElementsByTagName("head")[0]||t.documentElement,l=t.createElement("script");l.src=Se()+"//"+o+"/site-api/"+s+"/"+ze()+"/getPromoCode",a.insertBefore(l,a.firstChild),ot("PromoCode: loading started");var u=!1;l.onload=l.onreadystatechange=function(){if(u||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(u=!0,l.onload=l.onreadystatechange=null,a&&l.parentNode&&a.removeChild(l)),u){if(ot("PromoCode: loaded"),"undefined"==typeof roistatPromoCode||roistatPromoCode.length<1)return void ot("PromoCode: is disabled");i={template:roistatPromoCode,position:roistatPosition},ye.setObject("promo_code_options",i),r()}}}},at=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},ot=function(e){var t=tt()-oe,n="["+t/1e3+"s] "+e;ie=ie+"; "+n,"undefined"!=typeof console&&console.log&&r&&console.log(n)};!function(){e.onRoistatModuleLoaded!==n&&"function"==typeof e.onRoistatModuleLoaded&&e.onRoistatModuleLoaded()}(),je(),function(){function r(){var t=!1;if(me()&&ge()&&(ot("LeadHunter: activated"),ve())){pe(),re=(new Date).getTime();var n=e.onload;e.onload=function(){n&&n(),t||(t=!0,ot("LeadHunter: form inited"),Ne())},setTimeout(function(){t||(t=!0,ot("LeadHunter: form inited"),Ne())},5e3)}}function a(){return e.innerHeight?e.innerHeight:0==t.documentElement.clientHeight?t.body.clientHeight:t.documentElement.clientHeight}function s(){return e.innerWidth?e.innerWidth:0==t.documentElement.clientWidth?t.body.clientWidth:t.documentElement.clientWidth}function c(e){e=e||event,ae=e.clientY;var t=ae/a(),n=ie>0&&ie>t,r=t<te,i=tt()-re>1e3*oe;n&&r&&!ne&&i&&(ot("LeadHunter: show modal with because move up ("+ie+" -> "+t+") and in modal zone"),He(),d(e)),t<Q&&(ie=t)}function f(e){ce?Oe():(e=e||event,d(e))}function d(e){var t=e.clientX-Math.round(v.clientWidth/2)||v.offsetLeft;t=Math.max(20,Math.min(t,s()-v.offsetWidth-20));var n=s()-40>v.offsetWidth?"":"width:"+(v.offsetWidth-40)+"px;";v.setAttribute("style","left:"+t+"px; top: 0px; "+n)}function p(){b.setAttribute("style","opacity:0"),v.style.top="-"+2*v.offsetHeight+"px",e.roistatSetCookie(V,1,x),setTimeout(function(){v.className=b.className=R},500)}function m(){var r,a,o=t.getElementById("roistat-lh-phone-input"),s=t.getElementById("roistat-lh-name-input");r=null===o?"":o.value,a=null===s?"":s.value;var l={name:a,phone:r,isNeedCallback:null,callbackPhone:null,fields:{}};if(e.roistat.leadHunter.onBeforeSubmit){ot("LeadHunter: process user defined onBeforeSubmit");var c=e.roistat.leadHunter.onBeforeSubmit(l);c&&(l=c)}var f=l.phone.length<1,d="_"!==l.phone.slice(-1);if(!f&&d){var m=D+"?v="+i+"&lead-hunt-input="+encodeURIComponent(l.phone)+"&lead-name="+encodeURIComponent(l.name)+"&visit="+ee(u);null!==l.isNeedCallback&&l.isNeedCallback!==n&&(m=m+"&is_need_callback="+(l.isNeedCallback>0?1:0)),l.callbackPhone&&(m=m+"&callback_phone="+l.callbackPhone);var h=0;if(l.fields&&"object"==typeof l.fields)for(var v in l.fields)l.fields.hasOwnProperty(v)&&++h;h>0&&(m=m+"&fields="+de(JSON.stringify(l.fields))),m=m+"&t="+tt();var b=t.createElement("img");b.src=m,o.setAttribute("style",""),null===S?(p(),g()):je()}else o.setAttribute("style","border: 2px solid #E0571A;");e.roistat.leadHunter.onAfterSubmit&&(ot("LeadHunter: process user defined onAfterSubmit"),e.roistat.leadHunter.onAfterSubmit({name:a,phone:r}))}function g(){t.onmousemove=null,b.onresize=null}var h,v,b,y,T,S,E,A,D,_,N="roistat-lh-form",j="roistat-lh-form",O="roistat-lh-head-text",H="roistat-lh-head",w="roistat-lh-thank-you",B="roistat-lh-thank-you",P="roistat-lh-close",I="roistat-lh-submit",R="roistat-lh-hidden",L="roistat-lh-wrap",M="roistat-lh-popup",F="roistat_leadHunterUrl",U="roistat_leadHunterAppearanceUrl",J="roistat_leadHunterTargetPagesList",V="roistat_leadHunterCaught",W="roistat_leadHunterFormTemplate_{version}",$=13,Y="roistat_leadHunterPulsatorTemplate",K="roistat_leadHunterMinTime",X="roistat_leadHunterAutoShowTime",Z="roistat_leadHunterPulsatorEnabled",Q=.3,te=.001,ne=!1,re=0,ie=0,ae=0,oe=0,se=0,le=!1,ue=!1,ce=!1,fe=function(){return W.split("{version}").join($)},de=function(e){var t=encodeURIComponent?encodeURIComponent:encodeURI;return t(e)},pe=function(){if(ye.isAvailable()){ye.remove(W.split("_{version}").join(""));var e;if($>1)for(e=1;e<$;e++)ye.remove(W.split("{version}").join(e.toString()))}},me=function(){return!e.roistatLeadHunterInited&&(e.roistatLeadHunterInited=!0,!(ye.get(k)<1)||(ot("LeadHunter: disabled"),!1))},ge=function(){return(D=ye.get(F))?(_=ye.get(U),oe=ye.get(K),se=ye.get(X),le=1==ye.get(Z),he(),!0):(ot("LeadHunter: not active cause of empty url"),!1)},he=function(){ye.get(V)>0&&(ot("LeadHunter: not active because already caught"),ue=!0),ee(C)>0||(ot("LeadHunter: not active, expired for this visit"),ue=!0)},ve=function(){var t,n=function(e,t){var n;if(xe(t,"*")){var r=new RegExp(t.split("*").join(".*"));n=r.test(e)}else n=e===t;return ot("LeadHunter: compare current: "+e+", setting: "+t+" with result = "+(n?1:0)),n},r=ye.get(J),i=e.location.href,a=!1,o=!1,s="",l=0;if(t=r?r.split(","):[],i&&0!==t.length){s=be(i);for(var u,c=0;c<t.length;c++)if(u=t[c].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,""),/^!/.test(u)){if(n(s,u.split(/^!/).join(""))){o=!0;break}}else if(l++,n(s,u)){a=!0;break}}else a=!0;return o?(ot('LeadHunter: current page "'+s+'" is disabled by list'),!1):!a&&l>0?(ot('LeadHunter: current page "'+s+'" is not listed'),!1):(ot('LeadHunter: current page "'+i+'", cleaned: "'+s+'" is not disabled in '+t.length+" list of pages"),!0)},Ce=function(){ce=!0,He(),Oe()},ke=function(){var t=e.location.hash;t&&xe(t,"roistat-lead-hunter")&&Ce()},Te=function(){function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):ot("Handler could not be attached")}E.onclick=b.onclick=p,A.onclick=m;for(var r=t.getElementsByClassName("roistat-lh-input"),i=0;i<r.length;i++)n(r[i],"keyup",function(e){e=e||event;var t=e.keyCode?e.keyCode:e.which;13==t&&m()});var a=e.onresize;if(e.onresize=function(e){a&&a(e),f(e)},!ue){var o=t.onmouseout;t.onmouseout=function(e){o&&o(e),c(e)},se>0&&setTimeout(function(){ne||(ce=!0,He(),Oe())},re-tt()+1e3*se)}le&&(h.onmouseover=function(){z(h,"roistat-lh-pulsator-hover")},h.onmouseout=function(){G(h,"roistat-lh-pulsator-hover")},h.onclick=function(){Ce()}),e.onhashchange=function(){ke()}},De=function(){var e=function(e){var n=t.getElementsByClassName(e);return n.length>0?n[0]:null},n=e("roistat-lh-title");n&&roistat.leadHunter.form.title&&(n.innerHTML=roistat.leadHunter.form.title);var r=e("roistat-lh-sub-title");r&&roistat.leadHunter.form.subTitle&&(r.innerHTML=roistat.leadHunter.form.subTitle);var i=e("roistat-lh-thank-you");i&&roistat.leadHunter.form.thankYouText&&(i.innerHTML=roistat.leadHunter.form.thankYouText);var a=e("roistat-lh-submit");a&&roistat.leadHunter.form.buttonText&&(a.value=roistat.leadHunter.form.buttonText);var o=e("roistat-lh-text-label-name");o&&roistat.leadHunter.form.nameLabel&&(o.innerHTML=roistat.leadHunter.form.nameLabel);var s=e("roistat-lh-text-label-contact");s&&roistat.leadHunter.form.contactLabel&&(s.innerHTML=roistat.leadHunter.form.contactLabel)},_e=function(e,n){var r;ot(e?"LeadHunter: rendering hidden form":"LeadHunter: deactivating, empty form"),ye.isAvailable()&&(ye.set(fe(),e),ye.set(Y,n)),b=t.createElement("div"),v=t.createElement("div"),v.innerHTML=e,b.className=v.className=R,n&&le&&(r=t.createElement("div"),r.innerHTML=n,h=r.childNodes.item(0),t.body.appendChild(h)),t.body.appendChild(b),t.body.appendChild(v),y=t.getElementById(H),T=t.getElementById(j),S=t.getElementById(B),E=t.getElementById(P),A=t.getElementById(I),De(),Te(),ke()},Ne=function(){var n=ye.get(fe()),r=ye.get(Y);e.roistatLeadhunterForm=_e,n?e.roistatLeadhunterForm(n,r):(ot("LeadHunter: requesting form from server"),Ae(Se()+"//"+o+"/api/site/"+l+"/"+ze()+"/leadhunter-form?domain="+encodeURIComponent(t.domain)))},je=function(){var e=v.clientWidth,t=v.clientHeight;v.setAttribute("style",v.getAttribute("style")+" width: "+e+"px; height: "+t+"px;"),null!==T&&(T.className=R),null!==y&&(y.className=R),null!==S&&(S.setAttribute("style","width: "+e+"px; height: "+t+"px; display: table-cell;"),S.className=w),setTimeout(function(){ot("LeadHunter: close form after timeout"),p()},7e3)},Oe=function(){var e=Math.round((a()-v.clientHeight)/2),t=Math.round((s()-v.clientWidth)/2);v.setAttribute("style","left: "+t+"px; top: "+e+"px;")},He=function(){v.setAttribute("style","left:20px;top:-20px;opacity:0"),b.className=L,v.className=M,T.className=N,y.className=O,null!==S&&(S.setAttribute("style",""),S.className=R),b.setAttribute("style","opacity:0;"),ne=!0,setTimeout(function(){b.setAttribute("style","opacity:.5;")},10);var t=ee(u);Ee(_,{visit_id:t},"GET"),e.roistat.leadHunter.onAfterAppear&&(ot("LeadHunter: process user defined onAfterAppear"),e.roistat.leadHunter.onAfterAppear(t,b,v,T))},we=function(t,n){if(!t||!n)return void ot("LeadHunter: skip phone mask render due to empty input or mask");if(ot("LeadHunter: render phone mask "+n+" for input: "+t.value),!e.roistatRenderPhoneMaskMutex){e.roistatRenderPhoneMaskMutex=!0;var r="_",i="x",a="х",o=n.toLowerCase().split(i).join(r).split(a).join(r),s=function(e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},l=function(e){if(!e)return 0;var t=e.indexOf(r);return t<0?e.length:t},u=function(e){s(l(e))},c=function(e){var t=o.split("");if(!e)return o;for(var n,i,a,s,l,u,c,f=e.split(""),d=[],p=0;p<t.length;p++)i=t[p],p>=f.length?d.push(i):(l=p+1<t.length?t[p+1]:null,u=p+1<f.length?f[p+1]:null,c=p+2<f.length?f[p+2]:null,n=f[p],a=parseInt(n)>=0,s=i===r&&a,s&&(u!==r||l===r||c===l)?d.push(n):d.push(i));return d.join("")};setTimeout(function(){var n=c(t.value);t.value!==n&&(t.value=n),u(n),e.roistatRenderPhoneMaskMutex=!1},1)}};q(r),e.roistatLeadHunterShow=Ce,e.roistatRenderPhoneMask=we}(),function(){var r=function(){return ee(f)},i=function(){return ye.get(R)},a=function(){return ye.get(I)},o=function(e){return null!=e&&e!=n&&""!=e},s=function(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t)return t}catch(n){}return null},l=function(){var e=[],n=t.getElementsByClassName(E);return n&&n.length&&(e=n),e},c=function(){var e=[],n=t.getElementsByClassName(A);return n&&n.length&&(e=n),e},d=function(){var e=[],n=t.getElementsByClassName(D);return n&&n.length&&(e=n),e},m=function(){var e=[],n=t.getElementsByClassName(_);return n&&n.length&&(e=n),e},g=function(){var e=[],n=t.getElementsByClassName(N);return n&&n.length&&(e=n),e},h=function(e,n){ot("RenderPhone phone = "+e);var r=function(e){return e.split(/[^0-9]/).join("")},i=function(e,t){var n=null;if(!e)return n;var i=t.split(",");if(i.length<2)n=t;else{var a=e.getAttribute("data-prefix");if(a)for(var o=0;o<i.length;o++){var s=i[o],l=r(s);0===l.indexOf("8")&&(l="7"+l.substring(1));
var u=""===l.split(a)[0];if(u){n=s;break}}null===n&&(n=i[0]),ot("CallTracking._getPhoneForElement: Prepared phone = "+n+" for data-prefix = "+a)}return n},o=function(e,t){var n=i(e,t);if(n&&e&&"a"===e.tagName.toLowerCase()){var r=e.getAttribute("href");if(xe(r,"tel:")){var a="";0===n.indexOf("7")&&(a="+");var o="tel:"+a+n.split(/[^0-9]/).join("");e.setAttribute("href",o)}}},s=function(e,t){var n=i(e,t);n&&e&&(e.innerHTML=n)},u=function(e){var t=l();ot("CallTracking: render phone default classes for "+t.length+" elements"),fe(t,function(t){s(t,e),o(t,e)}),fe(c(),function(t){var n=r(i(t,e)).slice(0,1);s(t,n)}),fe(d(),function(t){var n=i(t,e).match(/\((.*)\)/);if(null!==n){var r=n[1];s(t,r)}}),fe(m(),function(t){var n=i(t,e).match(/\)(.*)/);if(null!==n){var a=r(n[1]),o=a.slice(-1*a.length,-4)+"-"+a.slice(-4,-2)+"-"+a.slice(-2);s(t,o)}}),fe(g(),function(t){o(t,e)})},f=function(e,n){if(n){ot("CallTracking: render phone user replacement for "+n.length+" replacements");for(var r=0;r<n.length;r++){var i=n[r];if(i){var a=i[0];i=i.substr(1);var l=[];if("#"===a){var u=t.getElementById(i);null!==u&&l.push(u)}else l=t.getElementsByClassName(i),h(i,e);if(l&&!(l.length<1)){ot("CallTracking: render phone for "+i+", "+l.length+" elements");for(var c=0;c<l.length;c++)s(l[c],e),o(l[c],e)}}}}},p=function(e){for(var t=0;t<e.length;t++)f(e[t].phone,e[t].css_selectors)},h=function(e,t){fe(v(e+"-"+j),function(e){var n=r(i(e,t)).slice(0,1);s(e,n)}),fe(v(e+"-"+O),function(e){var n=i(e,t).match(/\((.*)\)/);if(null!==n){var r=n[1];s(e,r)}}),fe(v(e+"-"+H),function(e){var n=i(e,t).match(/\)(.*)/);if(null!==n){var a=r(n[1]),o=a.slice(-1*a.length,-4)+"-"+a.slice(-4,-2)+"-"+a.slice(-2);s(e,o)}}),fe(v(e+"-"+w),function(e){o(e,t)})},v=function(e){var n=[],r=t.getElementsByClassName(e);return r&&r.length&&(n=r),n},b=a();if(b){b=b.split("\n");for(var C=0;C<b.length;C++)b[C]="."+b[C]}n instanceof Array?p(n):(u(e),f(e,b))},v=function(e){ye.save(B,e,x)},b=function(){if(e.roistat.callTracking.phone){var t={expires:parseInt(e.roistat.callTracking.sessionTime),path:"/"};x.domain&&(t.domain=x.domain),te(f,e.roistat.callTracking.phone,t),v(1),ye.save(I,e.roistat.callTracking.replacementClasses,x),ye.save(R,e.roistat.callTracking.phoneScriptsJson,x)}},C=function(e,t,n,r){if(ot("CallTracking: reuse phone "+e+" for time "+t+" and replacements "+n),!o(e))return ot("CallTracking: new phone is invalid"),roistat.callTracking.phone=null,void K();roistat.callTracking.enabled=1,roistat.callTracking.phone=e,roistat.callTracking.sessionTime=t,roistat.callTracking.replacementClasses=n,roistat.callTracking.phoneScriptsJson=r,K(),b();var i={expires:parseInt(t),path:"/"};x.domain&&(i.domain=x.domain),te(f,e,i),ye.save(R,r,x),ye.save(I,n,x);var a=s(r);null==a?h(e):h(e,a)},y=function(){ot("CallTracking: request new phone");var e=ee(u),t=ee(p),n=Ge()+"/get-phone?visit="+e+"&marker="+(t?t:"")+"&prefix="+le+"&prefix_bind="+ue+"&phone_scripts_bind="+ce;Ae(n)},k=function(){le=e.roistatPhonePrefix?e.roistatPhonePrefix:"",ue=e.roistatPhonePrefixBind?e.roistatPhonePrefixBind:"",ce=e.roistatCalltrackingScripts&&e.roistatCalltrackingScripts.join?e.roistatCalltrackingScripts.join(","):"",ot("CallTracking: refresh phone with prefix: "+le+", binding: "+ue+", scripts: "+ce),y()},T=function(){var e=ye.get(B)>0,t=J.callTrackingEnabled;return e&&t},S=function(e){v(e.is_enabled)},P=function(){if(ot("CallTracking: init"),b(),!T())return void ot("CallTracking: disabled, skip");if(J.callTrackingManual)ot("CallTracking: init finish because off manual");else{var e=r();if(o(e)){ot("CallTracking: render phone "+e);var t=s(i());null==t?h(e):h(e,t)}else ot("CallTracking: invalid phone "+e+", requesting a new one"),y()}};e.roistatCallTrackingRefresh=k,e.roistatRequestNewPhone=y,e.roistatReusePhone=C,e.roistatCalltrackingUpdateSettings=S,q(P)}(),function(){var n=function(e){ot("Emailtracking: "+e)},r=function(){e.roistat.emailtracking.loaded&&e.roistat.emailtracking.email?(n("save loaded email: "+e.roistat.emailtracking.email),ye.save(U,e.roistat.emailtracking.email,x)):(n("settings save skip, because not loaded"),e.roistat.emailtracking.email=ye.get(U),e.roistat.emailtracking.email="null"===e.roistat.emailtracking.email?null:e.roistat.emailtracking.email,n("email loaded from storage: "+e.roistat.emailtracking.email))},i=function(){return!!e.roistat.emailtracking.email},a=function(){if(n("process email swap"),!i())return void n("emailtracking disabled, skip swapping");var r=function(e,t,n){return e.href&&t.test(e.href)?(e.href=e.href.replace(t,n),!0):3===e.nodeType&&(e.textContent&&t.test(e.textContent)?(e.textContent=e.textContent.replace(t,n),!0):!(!e.innerText||!t.test(e.innerText))&&(e.innerText=e.innerText.replace(t,n),!0))},a=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},o=function(){var i=e.roistat.emailtracking.email,o=a(i),s=new RegExp("("+o+")","g"),l=i.split("@").join("+"+e.roistat.visit+"@");n("starting to replace email "+i+" with regexp "+s);var u=t.getElementsByTagName("*"),c=u.length;n("found "+c+" nodes on page");for(var f=0,d=0;d<c;d++){var p=u[d],m=p.childNodes.length;if(m>0)for(var g=0;g<m;g++){var h=p.childNodes[g];r(h,s,l)&&f++}r(p,s,l)&&f++}n("successfully replaced "+f+" nodes")};o(),setTimeout(function(){o()},300),setTimeout(function(){o()},5e3),setTimeout(function(){o()},15e3)},o=function(){n("init"),r(),a()};q(o)}(),function(){var t=3e5,n="roistat_last_settings_update_time",r=function(e){ot("SettingsUpdater: "+e)},i=function(){return ye.get(n)},a=function(){ye.set(n,tt())},o=function(){var e=i(),t=!(e>0);return r("is first update check: lastUpdateTime="+e+", result="+(t?1:0)),t},s=function(){var e=tt()-t,n=i(),a=n<e;return r("expiration check: _minTime="+e+", lastUpdateTime="+n+", result="+(a?1:0)),a},l=function(){var e=ee(u),t=Ge()+"/get-settings?visit="+e;r("request new settings"),Ae(t)},c=function(t){r("update settings and save last update time"),e.roistatCalltrackingUpdateSettings(t.calltracking),$e(t.js_settings),a()},f=function(){return r("init"),o()?(r("in first update we just start first timer and skip"),void a()):s()?(r("start to update settings"),void l()):void r("update is not not expired, skip")};q(function(){setTimeout(function(){f()},3e3)}),e.roistatUpdateSettings=c}(),function(e,t,n){var r=function(e){var t=encodeURIComponent?encodeURIComponent:encodeURI;return t(e)},i=function(e){ot("Reach goal start"),e||(e={});var t={leadName:"",name:"",phone:"",email:"",price:"",text:"",fields:"",is_need_callback:"",callback_phone:"",visit:Be()};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)&&e[n]&&("fields"===n&&(e[n]=JSON.stringify(e[n])),t[n]=r(e[n]));var i=ze(),a=Se()+"//"+o+"/api/site/"+l+"/"+i+"/reach-goal?v=2";for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a=a+"&"+s+"="+t[s]);Ae(a),ot("Reach goal completed")};e.roistatGoal={reach:function(e){i(e)}}}(e,t,n),function(e,t,n){var r=function(e){if(e instanceof Array||null===e||"object"!=typeof e)return ot("Invalid event data"),"";var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];"string"==typeof r||"number"==typeof r?t.push("data["+encodeURIComponent(n)+"]="+encodeURIComponent(r)):ot("Event data property ignored: "+n)}return t.length>0?"&"+t.join("&"):""},i=function(e,t){ot("Send event start");var n=Be(),i=Ge()+"/event/register?visit="+n+"&event="+e+r(t);Ae(i),ot("Send event completed")};e.roistat.event={send:function(e,t){i(e,t)}}}(e,t,n),function(e,t,n){var r=function(e){return"approve_visit_"+e},i=function(e){Ce.set(r(e),1)},a=function(e){return Ce.get(r(e))>0},o=function(){var e=Be();if(ot("VisitApprove: start for visit "+e),a(e))return void ot("VisitApprove: visit already approved, skip");i(e);var t=Ge()+"/approve?visit="+e;Ae(t)},s=e.roistatIsInitVisit===!0?1e4:5e3;setTimeout(function(){o()},s)}(e,t,n),function(e,t,n){function r(){var e=i();se||e||applyTests(),e&&u()}var i=function(){return"1"===Te("roistat_ab_demo")},a=function(e){return new RegExp(e.split(".").join("\\.").split("*").join(".*").split("?").join("."))},o=function(t){var n,r=e.location.href,i=t.filter,o=t.filterValue;switch(i){case"except":case"pages":var s,l,u=!1;if(l=r?be(r):"",n=o?o.split("\n"):[],l&&0!==n.length)for(var c=0;c<n.length;c++){var f=n[c].trim();if(0!==f.length&&(s=a(f),s.test(l))){u=!0;break}}return"pages"===i?u:!u;case"all":default:return!0}},s=function(e){var n,r=t.getElementsByTagName("head")[0];n=t.createElement("style"),n.setAttribute("type","text/css"),n.innerText=e.value,r.appendChild(n)},l=function(e){if(o(e))switch(e.type){case"css":s(e)}};e.applyTests=function(){var e,t,n=ye.getObject("abTesting");for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],l(t))};var u=function(){ot("Call: apply demo AB test");var e,t=Te("roistat_ab_data");if(null!==t)return e=JSON.parse(nt(et(t))),"object"!=typeof e?void ot("Error: testValue is not an object."):void l(e)};r()}(e,t,n),function(e,t,n){o.indexOf("roistat.com")<0||setTimeout(function(){!function(e,t,n,r,i,a,o){e[i]={COUNTER_ID:a,HOST:o};var s="https:"==t.location.protocol?"https://":"http://",l=t.createElement(n);l.async=1,l.src=s+o+r;var u=t.getElementsByTagName(n)[0];u.parentNode.insertBefore(l,u)}(e,t,"script","/counter.js","datamap",ze(),"collector.roistat.com")},1e3)}(e,t,n),function(e,t,n){var r=function(){var t=e.roistatMetrikaCounterId;t&&ye.set(M,t)},i=function(t){var r="yaCounter"+t,i=100,a=0,o=6e4,s=function(){if(a+=i,ot("YandexMetrika: trying to access counter "+t),e[r]===n)return void(a<o&&(setTimeout(s,i),i*=2));var l={};l[L]=Be(),e[r].params(l),ot("YandexMetrika: visit id "+l[L]+" sent to counter "+t)};setTimeout(s,i)};q(function(){r();var e=ye.get(M);if(!e)return void ot("YandexMetrika: counter id not found");var t=String(e).split(",");ot("YandexMetrika: counters: "+t);for(var n=0;n<t.length;n++)""!==t[n].trim()&&i(t[n])})}(e,t,n),function(){e.onRoistatAllModulesLoaded!==n&&"function"==typeof e.onRoistatAllModulesLoaded&&e.onRoistatAllModulesLoaded()}()}(window,document,void 0);
//# sourceMappingURL=maps/module.js.map
